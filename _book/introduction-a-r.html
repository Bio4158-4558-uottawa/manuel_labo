<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Introduction à R | BIO4558 Biostatistiques appliquées avec R</title>
  <meta name="description" content="1 Introduction à R | BIO4558 Biostatistiques appliquées avec R" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Introduction à R | BIO4558 Biostatistiques appliquées avec R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Introduction à R | BIO4558 Biostatistiques appliquées avec R" />
  
  
  

<meta name="author" content="Julien Martin" />


<meta name="date" content="2019-09-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Préface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#quelques-points-importants-a-retenir"><i class="fa fa-check"></i>Quelques points importants à retenir</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#quest-ce-que-r-et-pourquoi-lutiliser-dans-ce-cours"><i class="fa fa-check"></i>Qu’est-ce que R et pourquoi l’utiliser dans ce cours?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#instructions-generales-pour-les-laboratoires"><i class="fa fa-check"></i>Instructions générales pour les laboratoires</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#et-pour-les-dilettantes-ou-ceux-qui-sont-allergiques-a-la-programmation"><i class="fa fa-check"></i>Et pour les dilettantes ou ceux qui sont allergiques à la programmation…</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-a-r.html"><a href="introduction-a-r.html"><i class="fa fa-check"></i><b>1</b> Introduction à R</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-a-r.html"><a href="introduction-a-r.html#importer-et-exporter-des-donnees"><i class="fa fa-check"></i><b>1.1</b> Importer et exporter des données</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-a-r.html"><a href="introduction-a-r.html#ouvrir-et-sauvegarder-un-fichier-de-donnees-en-format-r"><i class="fa fa-check"></i><b>1.1.1</b> Ouvrir et sauvegarder un fichier de données en format R</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-a-r.html"><a href="introduction-a-r.html#entrer-des-donnees"><i class="fa fa-check"></i><b>1.1.2</b> Entrer des données</a></li>
<li class="chapter" data-level="1.1.3" data-path="introduction-a-r.html"><a href="introduction-a-r.html#nettoyercorriger-des-donnees"><i class="fa fa-check"></i><b>1.1.3</b> Nettoyer/corriger des données</a></li>
<li class="chapter" data-level="1.1.4" data-path="introduction-a-r.html"><a href="introduction-a-r.html#importer-des-donnees-a-partir-dexcel."><i class="fa fa-check"></i><b>1.1.4</b> Importer des données à partir d’Excel.</a></li>
<li class="chapter" data-level="1.1.5" data-path="introduction-a-r.html"><a href="introduction-a-r.html#exporter-des-donnees-a-partir-de-r."><i class="fa fa-check"></i><b>1.1.5</b> Exporter des données à partir de R.</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-a-r.html"><a href="introduction-a-r.html#examen-preliminaire-des-donnees"><i class="fa fa-check"></i><b>1.2</b> Examen préliminaire des données</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction-a-r.html"><a href="introduction-a-r.html#sommaire-statistique"><i class="fa fa-check"></i><b>1.2.1</b> Sommaire statistique</a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction-a-r.html"><a href="introduction-a-r.html#histogramme-densite-de-probabilite-empirique-boxplot-et-examen"><i class="fa fa-check"></i><b>1.2.2</b> Histogramme, densité de probabilité empirique, boxplot et examen</a></li>
<li class="chapter" data-level="1.2.3" data-path="introduction-a-r.html"><a href="introduction-a-r.html#diagrammes-de-dispersion-bivaries"><i class="fa fa-check"></i><b>1.2.3</b> Diagrammes de dispersion bivariés</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction-a-r.html"><a href="introduction-a-r.html#creer-des-sous-ensembles-de-cas"><i class="fa fa-check"></i><b>1.3</b> Créer des sous-ensembles de cas</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-a-r.html"><a href="introduction-a-r.html#transformations-de-donnees"><i class="fa fa-check"></i><b>1.4</b> Transformations de données</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-a-r.html"><a href="introduction-a-r.html#exercice"><i class="fa fa-check"></i><b>1.5</b> Exercice</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">BIO4558 Biostatistiques appliquées avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-a-r" class="section level1">
<h1><span class="header-section-number">1</span> Introduction à R</h1>
<p>Après avoir complété cet exercice de laboratoire, vous pourrez :
- Ouvrir des fichiers de données R déjà existants
- Importer des ensembles de données rectangulaires
- Exporter des donnes de R vers un fichier texte
- Vérifier si les données ont été correctement importées
- Examiner la distribution des observations d’une variable
- Examiner visuellement et tester la normalité d’une variable
- Calculer des statistiques descriptives d’une variable
- Effectuer des transformations de données</p>
<div id="importer-et-exporter-des-donnees" class="section level2">
<h2><span class="header-section-number">1.1</span> Importer et exporter des données</h2>
<div id="ouvrir-et-sauvegarder-un-fichier-de-donnees-en-format-r" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Ouvrir et sauvegarder un fichier de données en format R</h3>
<p>Les données pour les exercices de laboratoire et pour les devoirs vous sont fournies déjà en format R (fichiers avec extension .Rdata).
Pour ouvrir ces fichiers, vous pouvez cliquer dessus et laisser votre système d’exploitation démarrer une nouvelle session de R ou encore, à partir de la console de R, taper sur une ligne de commande :</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">load</span>(<span class="kw">file.choose</span>())</a></code></pre></div>
<p>ce qui ouvrira une boîte de dialogue vous permettant d’aller choisir un fichier sur votre ordinateur.
Après avoir fait votre sélection (choisir le fichier <code>ErablesGatineau.Rdata</code>), vous reviendrez à la fenêtre Rconsole sans changement apparent.</p>
<p>Vous pouvez aussi utiliser la commande suivante directement.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">load</span>(<span class="st">&quot;data/ErablesGatineau.Rdata&quot;</span>)</a></code></pre></div>
<p>Pour vérifier si les données ont bel et bien été lues, vous pouvez lister les objets en mémoire avec la fonction <code>ls()</code> ou en obtenir une liste avec une description plus détaillée avec <code>ls.str()</code></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">ls</span>()</a></code></pre></div>
<pre><code>## [1] &quot;ErablesGatineau&quot;</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">ls.str</span>()</a></code></pre></div>
<pre><code>## ErablesGatineau : &#39;data.frame&#39;:  100 obs. of  3 variables:
##  $ station: chr  &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; ...
##  $ diam   : num  22.4 36.1 44.4 24.6 17.7 ...
##  $ biom   : num  732 1171 673 1552 504 ...</code></pre>
<p>R confirme avoir en mémoire l’objet <code>ErablesGatineau</code>.
<code>ErableGatineau</code> est un tableau de données rectangulaire (data.frame) contenant 100 observations (lignes) de 3 variables (colonnes): <code>station</code>, une variable de type Facteur avec 2 niveaux, et <code>diam</code> et <code>biom</code> qui sont 2 variables numériques.</p>
</div>
<div id="entrer-des-donnees" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Entrer des données</h3>
<p>R n’est pas un environnement idéal pour entrer des données.
C’est possible, mais la syntaxe est lourde et m’incite à m’arracher les cheveux.
Utilisez votre chiffrier préféré pour faire l’entrée de données.
Ce sera plus efficace et moins frustrant.</p>
</div>
<div id="nettoyercorriger-des-donnees" class="section level3">
<h3><span class="header-section-number">1.1.3</span> Nettoyer/corriger des données</h3>
<p>Une autre opération qui peut être frustrante en R.
Mon conseil : ne le faites pas là.
Retournez au fichier original, faites la correction là, puis re-exportez les données vers R.
Il est finalement plus simple de refaire exécuter les quelques lignes de code par la machine.
Vous aurez à la fin une seule version (corrigée) de vos données et un code qui vous permet de refaire votre analyse.</p>
</div>
<div id="importer-des-donnees-a-partir-dexcel." class="section level3">
<h3><span class="header-section-number">1.1.4</span> Importer des données à partir d’Excel.</h3>
<p>Sauvegarder la matrice rectangulaire de données en dans un fichier en format csv (File&gt;Save as).
Importer ces données en R avec la commande <code>read.csv()</code>.
Par exemple, pour créer un data.frame appelé age à partir d’un fichier csv préalablement sauvegardé.
Essayez avec le fichier age.csv exporté du fichier excel age.xls, soit en utilisant <code>file.choose()</code>, soit en nommant directement le fichier.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">age &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">file.choose</span>())</a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">age &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/age.csv&quot;</span>)</a></code></pre></div>
<p><strong>Attrape</strong> : Attention si vous travaillez dans une langue utilisant la
virgule au lieu du point décimal. Par défaut, R utilise le point décimal
et vous n’obtiendrez pas le résultat escompté. Il existe une version
modifiée de read.csv() appelée read.csv2() qui règle ce problème.
Googlez-la si vous en avez besoin.</p>
</div>
<div id="exporter-des-donnees-a-partir-de-r." class="section level3">
<h3><span class="header-section-number">1.1.5</span> Exporter des données à partir de R.</h3>
<p>Vous pouvez utiliser la fonction <code>write.csv(mydata, file = &quot;outfilename.csv&quot;, row.names = FALSE)</code>
où mydata est le nom du data.frame à exporter et <code>outfilename.csv</code> est
le nom du fichier à produire. Notez que ce fichier sera créé dans le
répertoire de travail (qui peut être changé par le menu à <code>File&gt;Change dir</code> , ou par la commande <code>setwd()</code>)</p>
</div>
</div>
<div id="examen-preliminaire-des-donnees" class="section level2">
<h2><span class="header-section-number">1.2</span> Examen préliminaire des données</h2>
<p>La première étape de toute analyse est l’examen des données. Elle
nous permet de découvrir si on a bien importé les données, si les
nombres enregistrés sont possibles, si toutes les données ont bien été</p>
<p>lues, etc. L’examen préliminaire des données permet souvent aussi
d’identifier des observations suspectes, possiblement dûes à des
erreurs d’entrée de donnée. Finalement, l’examen graphique
préliminaire permet en général de visualiser les tendances principales
qui seront confirmées par l’analyse statistique en tant que telle.
Le fichier sturgeon.Rdata contient les données d’une étude effectuée
sur les esturgeons de la rivière Saskatchewan. Ces données ont été
récoltées, entre autres, pour examiner comment la taille des
esturgeons varie entre les sexes (sex), les sites (location), et les années
(year).
 Pour recommencer avec une ardoise vide, videz la mémoire de R de
tout son contenu en tapant la commande rm(list=ls())
 Ouvrez le fichier sturgeon.Rdata.
 Pour obtenir un aperçu des éléments du fichier qui ont été chargés en
mémoire, taper la commande ls.str() :
sturgeon : ‘data.frame’:
186 obs. of 9 variables:
$ fklngth : num 37 50.2 28.9 50.2 45.6 …
$ totlngth: num 40.7 54.1 31.3 53.1 49.5 …
$ drlngth : num 23.6 31.5 17.3 32.3 32.1 …
$ rdwght : num 15.95 NA 6.49 NA 29.92 …
$ age
: num 11 24 7 23 20 23 20 7 23 19 …
$ girth
: num 40.5 53.5 31 52.5 50 54.2 48 28.5 44 39 …
$ sex
: Factor w/ 2 levels “FEMALE”,“MALE”: 2 1 2 1 2 1 1 2 2 2 …
$ location: Factor w/ 2 levels “CUMBERLAND”,“THE_PAS”: 2 2 2 2 2 2 2 2 2 2
…
$ year
: Factor w/ 3 levels “1978”,“1979”,..: 1 1 1 1 1 1 1 1 1 1 …</p>
<div id="sommaire-statistique" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Sommaire statistique</h3>
<p> Pour un sommaire du contenu du data.frame appelé sturgeon qui est
en mémoire, taper la commande summary(sturgeon)
fklngth
Min.
:24.96
1st Qu.:41.00
Median :44.06
Mean
:44.15
3rd Qu.:48.00
Max.
:66.85
totlngth
drlngth
Min.
:28.15
Min.
:14.33
1st Qu.:43.66
1st Qu.:25.00
Median :47.32
Median :27.00
Mean
:47.45
Mean
:27.29
3rd Qu.:51.97
3rd Qu.:29.72
Max.
:72.05
Max.
:41.93
NA’s
:85.00
NA’s
:13.00
rdwght
age
girth
Min.
: 4.73
Min.
: 7.00
Min.
:11.50
1st Qu.:18.09
1st Qu.:17.00
1st Qu.:40.00
Median :23.10
Median :20.00
Median :44.00
Mean
:24.87
Mean
:20.24
Mean
:44.33
3rd Qu.:30.27
3rd Qu.:23.50
3rd Qu.:48.80
Max.
:93.72
Max.
:55.00
Max.
:73.70
NA’s
: 4.00
NA’s
:11.00
NA’s
:85.00
sex
location
year
FEMALE:106
CUMBERLAND: 85
1978:45
MALE : 80
THE_PAS
:101
1979:68
1980:73</p>
<p>Pour chaque variable, R donne le minimum, le maximum, la médiane
qui est la valeur au milieu de la liste des observations ordonnées
(appelée le 50 ième percentile), ici, la 93 ième valeur des 186 observations,
les valeurs au premier (25%) et troisième quartile (75%), et si il y a des
valeurs manquantes dans la colonne.
Notez que plusieurs des variables ont des observations manquantes
(NA). Donc, seules les variables fklngth (longueur à la fourche), sex,
location et year ont 186 observations.</p>
<p><strong>Attrape</strong> : Attention aux valeurs manquantes. Plusieurs fonctions de R
y réagissent mal et on doit souvent faire les analyses sur des sous-
ensembles sans valeur manquante, par des commandes ou des options
dans les commandes. On y reviendra, mais prenez l’habitude de noter
mentalement si il y a des données manquantes et de vous en rappeler
en faisant l’analyse</p>
</div>
<div id="histogramme-densite-de-probabilite-empirique-boxplot-et-examen" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Histogramme, densité de probabilité empirique, boxplot et examen</h3>
<p>visuel de la normalité
Examinons maintenant de plus près la distribution de fklngth.
La commande hist() permet de tracer un histogramme de la variable
fklngth dans le data.frame sturgeon
hist(sturgeon$fklngth)</p>
<p>Figure 2.
Les données semblent suivre approximativement une distribution
normale. C’est bon à savoir. Cette syntaxe est un peu lourde puisqu’on
doit ajouter le préfixe sturgeon$ devant chaque nom de variable. On
peut se faciliter la tâche en utilisant la commande attach(sturgeon) qui
va nous donner accès directement accès aux variables contenues dans
le data.frame sturgeon.
attach(sturgeon)
hist(fklngth)</p>
<p>Figure 3.
Cet histogramme (Fig. 3) est la représentation classique. Mais les
histogrammes ne sont pas parfaits. Leur forme dépend en partie du
nombre de catégories utilisées, surtout pour les petits échantillons. On
peut faire mieux, particulièrement si on est intéressé à comparer
visuellement la distribution des observations à une distribution
normale. Mais il faut programmer un peu (ou savoir copier-coller…)
 Copiez-collez le code suivant dans une nouvelle fenêtre script
( File-&gt;New script , ou Ctrl-n dans Windows), puis exécutez le :
require(ggplot2)
# use “sturgeon” dataframe to make plot called mygraph
# and define x axis as representing fklngth
mygraph &lt;- ggplot(sturgeon, aes(x = fklngth))
# add data to the mygraph ggplot
mygraph &lt;- mygraph +
# add data density smooth
geom_density() +
# add rug (bars at the bottom of the plot)
geom_rug() +
# add black semitransparent histogram
geom_histogram(aes(y = ..density..),
color = “black”,</p>
<p>alpha = 0.3) +
# add normal curve in red, with mean and sd from fklength
stat_function(fun = dnorm,
args = list(
mean = mean(sturgeon<span class="math inline">\(fklngth), sd = sd(sturgeon\)</span>fklngth)
),
color = “red”)
#display graph
mygraph
Vous obtiendrez :
Figure 4.
Chaque observation est représentée par une barre sous l’axe des x
(rug). En rouge est la distribution normale de données avec la même
moyenne et écart-type que les observations. Et l’autre ligne est la
densité de probabilité empirique, « lissée » à partir des observations.
Si vous êtes plus aventureux, vous pouvez examiner la distribution des
observations de fklngth par sous-groupes (par exemple sex et year)
avec :
mygraph + facet_grid(year ~ sex)</p>
<p>Figure 5.
Chaque panneau illustre la distribution pour un sexe cette année-là, et
la courbe en rouge récurrente représente la distribution normale pour
l’ensemble des données. Cette courbe peut servir à mieux évaluer
visuellement les différences entre les panneaux.
Une autre façon d’évaluer la normalité de données visuellement est de
faire un QQ plot avec la paire de commandes qqnorm() et qqline(),
qqnorm(fklngth)
qqline(fklngth)</p>
<p>Figure 6.
Des données parfaitement normales suivraient la ligne droite
diagonale. Ici, il y a des déviations dans les queues de la distribution,
et un peu à droite du centre. Comparez cette représentation à celle des
deux graphiques précédents. Vous conviendrez sans doute avec moi
qu’il est plus facile de visualiser comment la distribution dévie de la
normalité sur les histogrammes et les graphiques de la densité
empirique de probabilité que sur les QQ plots. Ceci dit, les QQ plots
sont souvent utilisés et vous devriez être capable de les interpréter. De
plus, on peut facilement éprouver statistiquement l’hypothèse que les
données sont distribuées normalement avec R par la commande
shapiro.test() qui calcule une statistique (W) qui est une mesure de la
tendance des points d’un QQ plot à former une ligne parfaite. Si oui,
alors W=1. Si W s’éloigne de 1 (vers 0), alors les données s’éloignent
de la normalité.
Ici :
shapiro.test(fklngth)
Shapiro-Wilk normality test
data: fklngth
W = 0.9722, p-value = 0.0009284</p>
<p>W n’est pas très loin de 1, mais suffisamment pour que la différence
soit significative.
L’examen visuel des grands échantillons est souvent compliqué par le
fait que plusieurs points se superposent et qu’il devient plus difficile
de bien visualiser la tendance centrale. Les boxplots avec
“moustaches” (box and whiskers plots) offrent une alternative
intéressante.
La commande
boxplot(fklngth~sex, notch=TRUE)
produit un boxplot de fklngth pour chaque niveau de sex, et ajoute les
coches.
Figure 7.
La ligne un peu plus épaisse dans la boîte de la Fig. 7 indique la
médiane. La coche est proportionnelle à l’incertitude quant à la
position de la médiane. On peut visuellement interpréter
approximativement les différences entre médianes en examinant si il y
a chevauchement entre les coches (ici, il n’y a pas chevauchement, et
on conclurait provisoirement que la médiane de fklngth pour les</p>
<p>femelles est supérieure à celle des mâles). Les boîtes s’étendent du
premier au troisième quartile (du 25ième au 75ième percentile si vous
préférez), Les barres (moustaches ou whiskers) au-dessus et en
dessous des boîtes s’étendent soit de la valeur minimum à la valeur
maximum, ou, si il y a des valeurs extrêmes, de la plus petite à la plus
grande valeur à l’intérieur de 1.5x la largeur de l’étendue interquartile .
Enfin, les observations qui excèdent les limites des moustaches (donc
à plus de 1.5x l’étendue interquartile de chaque côté de la médiane)
sont indiquées par des symboles.Ce sont des valeurs qui pourraient
être considérées comme extrêmes et possiblement aberrantes.</p>
</div>
<div id="diagrammes-de-dispersion-bivaries" class="section level3">
<h3><span class="header-section-number">1.2.3</span> Diagrammes de dispersion bivariés</h3>
<p>En plus des graphiques pour chacune des variables séparément, il est
très souvent intéressant de jeter un coup d’oeil aux diagrammes de
dispersion . La commande plot(y~x) permet de faire le graphique de y
sur l’axe vertical ( l’ordonnée) en fonction de x sur l’axe horizontal
(l’abscisse).
 Faites un graphique de fklngth en fonction de age avec la commande
plot. Vous devriez obtenir:</p>
<p>Figure 8.
R a une fonction qui permet la création des graphiques de dispersion
de toutes les paires de variables (pairs()). Une des option de pairs() est
l’ajout d’une trace lowess qui indique la tendance de la relation entre
les variables.
Pour obtenir la matrice de ces graphiques avec la trace lowess pour
toutes les variable dans sturgeon, entrer la commande
pairs(sturgeon, panel=panel.smooth)
et vous devriez obtenir</p>
<p>Figure 9.</p>
</div>
</div>
<div id="creer-des-sous-ensembles-de-cas" class="section level2">
<h2><span class="header-section-number">1.3</span> Créer des sous-ensembles de cas</h2>
<p>Il arrive fréquemment qu’une analyse se concentre sur un sous-ensemble des observations contenues dans un fichier de données.
Les cas sont d’habitude sélectionnés selon un critère en particulier. Pour
utiliser un sous-ensemble de vos données en créant un graphique ou
en performant une analyse, on peut utiliser la commande subset().Par
exemple, pour créer un sous ensemble des données du tableau
sturgeon qui ne contient que les femelles capturées en 1978, on peut
écrire
:
&gt; sturgeon.female.1978&lt;-subset(sturgeon,sex==“FEMALE” &amp;
year==“1978”)
&gt; sturgeon.female.1978
2
4
6
7
15
105
106
107</p>
<p>fklngth
50.19685
50.19685
49.60630
47.71654
48.89764
46.85039
40.74803
40.35433
totlngth
54.13386
53.14961
53.93701
51.37795
53.93701
NA
NA
NA
drlngth rdwght age girth
31.49606
NA 24 53.5
32.28346
NA 23 52.5
31.10236 35.86 23 54.2
33.97638 33.88 20 48.0
29.92126 35.86 23 52.5
28.34646 23.90 24
NA
24.80315 17.50 18
NA
25.59055 20.90 21
NAL ABO - I NTRODUCTION À R - 21
109
113
114
116
118
119
123
2
4
6
7
15
105
106
107
109
113
114
116
118
119
123
43.30709
NA
53.54331
NA
51.77165
NA
45.27559
NA
53.14961
NA
50.19685
NA
49.01575
NA
sex
location
FEMALE
THE_PAS
FEMALE
THE_PAS
FEMALE
THE_PAS
FEMALE
THE_PAS
FEMALE
THE_PAS
FEMALE CUMBERLAND
FEMALE CUMBERLAND
FEMALE CUMBERLAND
FEMALE CUMBERLAND
FEMALE CUMBERLAND
FEMALE CUMBERLAND
FEMALE CUMBERLAND
FEMALE CUMBERLAND
FEMALE CUMBERLAND
FEMALE CUMBERLAND
27.95276
33.85827
31.49606
26.57480
32.67717
32.08661
29.13386
year
1978
1978
1978
1978
1978
1978
1978
1978
1978
1978
1978
1978
1978
1978
1978
24.10
48.90
35.30
23.70
45.30
33.90
37.50
19
20
26
24
25
26
22
NA
NA
NA
NA
NA
NA
NA
<strong>Attrape</strong>: Dans ces comparaisons, il faut toujours utiliser == pour égal
à. Dans ce contexte, si vous utilisez = seulement, vous n’obtiendrez
pas ce que vous désirez.
Dans le tableau qui suit se trouve une liste de commandes communes
que vous allez probablement utiliser pour créer des expressions en R.
Operator Explication Operator Explication
== Égal à != Pas égal à
&gt; Plus que &lt; Moins que
&gt;= Plus que ou égal à &lt;= Moins que ou égal à
&amp; Et vectorisé | Ou vectorisé
&amp;&amp; Et contrôle || Ou contrôle
! Pas
 En utilisant les commandes subset() et hist(), essayez de faire un histo-
gramme pour le sous-ensemble de cas correspondant aux femelles
capturées en 1979 et 1980 (donc sex==“FEMALE” &amp; (year
==“1979” | year==“1980”))</p>
<p>Figure 10.</p>
</div>
<div id="transformations-de-donnees" class="section level2">
<h2><span class="header-section-number">1.4</span> Transformations de données</h2>
<p>Il est très fréquemment nécessaire d’effectuer des transformations
mathématiques sur les données brutes pour mieux satisfaire aux
conditions d’application de tests statistiques. R étant aussi un langage
de programmation complet, il peut donc effectuer les transformations
désirées.
Les fonctions les plus fréquemment utilisées sont:
log10()
sqrt()
ifelse()
On peut employer ces fonctions directement dans les lignes de
commandes, ou encore créer de nouvelles variables orphelines ou
faisant partie d’un data.frame.</p>
<p>Par exemple, pour faire un graphique du logarithme décimal de
fklngth en fonction de l’âge, on peut écrire
plot(log10(fklngth)~age)
Pour créer une variable orpheline (i.e. non incluse dans le data.frame)
appelée lfklngth et contenant le logarithme décimal de fklngth, on
peut écrire
lfklngth&lt;-log10(fklngth)
Si on veut ajouter cette variable transformée à un tableau de données
(data.frame), alors, on doit préfixer le nom de la variable par le nom
du data.frame et du symbole <span class="math inline">\(, par exemple, pour ajouter une variable nommée lfkl contenant le log10 de fklngth au tableau sturgeon, on peut écrire: sturgeon\)</span>lfkl&lt;-log10(fklngth)
N’oubliez pas de sauvegarder ce tableau modifié si vous voulez avoir
accès à cette nouvelle variable dans le futur.
Pour les transformations conditionnelles, on peut utiliser la fonction
ifelse(). Par exemple, pour créer une nouvelle variable appelée dummy
qui sera égale à 1 pour les mâles et 0 pour les femelles, on peut écrire:
dummy&lt;-ifelse(sex==“MALE”,1,0)</p>
</div>
<div id="exercice" class="section level2">
<h2><span class="header-section-number">1.5</span> Exercice</h2>
<p>Vous trouverez dans le fichier salmonella, des valeurs numériques du
ratio pour deux milieux (IN VITRO et IN VIVO) pour trois souches.
Examinez les données pour ratio et faites des graphiques pour évaluer
la normalité de la distribution des ratios pour la souche SAUVAGE.</p>
<p>Figure 11.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
